!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=2)}({2:function(t,e,r){t.exports=r("ZVB6")},CckR:function(t,e,r){"use strict";var n=r("TqZL");e.a={browserClient:Object(n.a)(),selectors:{scriptButton:".scriptButton",editButton:".edit",addNewScriptButton:".add-new-script",viewall:"#viewall",downloadScript:".down-script"},scriptdb:"scriptdb",menuTitle:"Scripty",urls:{home:"https://scripty.abhisheksatre.com",edit:"https://scripty.abhisheksatre.com/#/edit",create:"https://scripty.abhisheksatre.com/#/create",welcome:"https://scripty.abhisheksatre.com/#/welcome",store:"https://scripty.abhisheksatre.com/#/store"},appDomains:["localhost:8080","scripty.abhisheksatre.com"],scriptStorageKey:"script_",triggerType:{automatic:"a",manual:"m"},triggerValue:{pageload:"pageload",beforeload:"beforeload"}}},R3Pk:function(t,e,r){"use strict";var n=r("TqZL"),i=r("CckR"),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"getScriptsForCurrentUrl",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{type:i.a.triggerType.manual};if(!1===Array.isArray(e))return Object(n.c)("scriptArray is not an array"),[];var a=new URL(t);return Object(n.b)(a.origin)?[]:e.filter(function(t){if(!0===t.disable)return!1;if(t.trigger.type!==r.type&&"all"!==r.type)return!1;if(r.type===i.a.triggerType.automatic&&r.value!==t.trigger.value)return!1;if("all"===t.filter.value||""===t.filter.value)return!0;var e=a.href;if("url"===t.filter.identifier?e=a.href:"path"===t.filter.identifier?e=a.pathname:"host"===t.filter.identifier&&(e=a.hostname),"contains"===t.filter.condition)return-1!==e.indexOf(t.filter.value);if("equals"===t.filter.condition)return e==t.filter.value;if("regex"===t.filter.condition){var n=t.filter.value.replace(/.*\/([gimy]*)$/,"$1"),o=t.filter.value.replace(new RegExp("^/(.*?)/"+n+"$"),"$1");return new RegExp(o,n).test(e)}return!1})}},{key:"getScriptById",value:function(t,e){return t.find(function(t){return t.id==e})}},{key:"handleScriptRun",value:function(e,r,o){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!1===c&&(c=t.getScriptById(e,r)),c&&"object"===(void 0===c?"undefined":a(c))&&i.a.browserClient.tabs.executeScript(o,{code:c.script.value},function(){var t=i.a.browserClient.runtime.lastError;t&&Object(n.c)("tab: "+o+" lastError: "+JSON.stringify(t))})}}]),t}();e.a=c},TqZL:function(t,e,r){"use strict";e.c=function(){},e.a=function(){return chrome},e.b=function(t){if(-1===t.indexOf("chrome://"))return!1;return!0}},ZVB6:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("R3Pk"),i=r("CckR"),a=r("vnB8"),o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"getPopupScriptButton",value:function(t){var e=t.trigger.type;return'<div class="script-item">\n            <div class="play-wrap scriptButton" data-sid="'+t.id+'">\n                <svg class="play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6l8 4-8 4V6z"/></svg>\n                <div class="title">'+t.title+'</div>\n            </div>\n            <span class="mode '+e+'" title="Triggers '+(e?"Manually":"Automatically")+'">'+e+'</span>\n            <svg class="edit" data-sid="'+t.id+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"/></svg>\n        </div>'}}]),t}(),s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentTab={},this.tabId=-1,this.scriptArray=[]}return s(t,[{key:"setTabConfig",value:function(t){this.currentTab=t,this.tabId=t.id}},{key:"setScriptArray",value:function(t){this.scriptArray=t}},{key:"renderScriptList",value:function(){var t=document.querySelector("#list"),e=n.a.getScriptsForCurrentUrl(this.currentTab.url,this.scriptArray,{type:"all"}),r=e.map(function(t){return c.getPopupScriptButton(t)}).join("");0!==e.length&&document.querySelector(".no-script-fallback").classList.add("bottomfix"),t.innerHTML=r}},{key:"events",value:function(){var t=this;document.querySelector("#popupRoot").addEventListener("click",function(e){var r=e.target;r.matches(i.a.selectors.scriptButton)?n.a.handleScriptRun(t.scriptArray,r.dataset.sid,t.tabId):r.matches(i.a.selectors.editButton)?i.a.browserClient.tabs.create({url:i.a.urls.edit+"/"+r.dataset.sid}):r.matches(i.a.selectors.addNewScriptButton)?i.a.browserClient.tabs.create({url:""+i.a.urls.create}):r.matches(i.a.selectors.viewall)?i.a.browserClient.tabs.create({url:""+i.a.urls.home}):r.matches(i.a.selectors.downloadScript)&&i.a.browserClient.tabs.create({url:""+i.a.urls.store})})}},{key:"init",value:function(){this.renderScriptList(),this.events()}}]),t}();e.default=u;window.addEventListener("DOMContentLoaded",function(t){var e=new u;i.a.browserClient.runtime.sendMessage({action:a.a.getScriptListFromStorage},function(t){e.setScriptArray(t),i.a.browserClient.tabs.query({active:!0,currentWindow:!0},function(t){e.setTabConfig(t[0]),e.init()})})})},vnB8:function(t,e,r){"use strict";var n,i,a;e.a=(a="createScript",(i="createScript")in(n={createScript:"createScript",updateScript:"updateScript",deleteScript:"deleteScript",getScriptListFromStorage:"getScriptListFromStorage",pingContentScript:"pingContentScript",scriptsLoadedFromCS:"scriptsLoadedFromCS",contentScriptLoaded:"contentScriptLoaded",scriptOperationDone:"scriptOperationDone"})?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n)}});